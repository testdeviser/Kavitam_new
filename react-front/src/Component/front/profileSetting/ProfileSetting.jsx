
import React, { useEffect, useRef, useState } from "react";
import { FaFacebook, FaTwitter, FaLinkedin } from "react-icons/fa";
import "../../../assets/front/css/profile.css";
import { Link, Outlet, NavLink, useNavigate, useLocation } from "react-router-dom";
import axios from "axios";
import Swal from "sweetalert2";
import { FaClockRotateLeft } from "react-icons/fa";
import ListGroup from "react-bootstrap/ListGroup";
import { handleSidebarStyle } from "../../../utils";
import { setActiveSidebarLink } from "../../../utils/utils";

function Setting(props) {
  const navigate = useNavigate();
  const location = useLocation(); // Get the current location
  const [activeLink, setActiveLink] = useState("");

  useEffect(() => {
    // Set the active link based on the current location
    // const path = location.pathname.toLowerCase();
    const path = location.pathname;
    setActiveLink(path === "/Setting" ? "Profile" : path.substring("/setting/".length));
  }, [location]);

  const handleSidebarClick = (data) => {

    setActiveLink(data); // Update the active link
    if (data == "profile") {
      navigate("/Setting");
    } else if (data == "wallet") {
      navigate("/Setting/wallet");
    } else if (data == "history") {
      navigate("/Setting/history");
    } else if (data == "referral") {
      navigate("/Setting/Refferral");
    } else if (data == "Change Password") {
      navigate("/Setting/changePassword");
    } else {
    }

    //navigate(`/Setting/${data.toLowerCase()}`); // Navigate to the corresponding route
  };

  // const handleSidebar_style = (e, data) => {
  //   setActiveSidebarLink(data);
  //   // Rest of your code...
  // };

  // const handleSidebar_style = (e, data) => {
  //   if (data == "profile") {
  //     navigate("/Setting");
  //   } else if (data == "wallet") {
  //     navigate("/Setting/wallet");
  //   } else if (data == "history") {
  //     navigate("/Setting/history");
  //   } else if (data == "referral") {
  //     navigate("/Setting/Refferral");
  //   } else if (data == "changePassword") {
  //     navigate("/Setting/changePassword");
  //   } else {
  //   }
  //   e.preventDefault();
  //   try {
  //     var findClass = document.getElementsByClassName("active-sidebar");
  //     var target = e.currentTarget;
  //     var hasclass = target.classList.contains("active-sidebar");
  //     findClass[0].classList.remove("active-sidebar");
  //     if (hasclass) {
  //       target.classList.add("active-sidebar");
  //     } else {
  //       target.classList.add("active-sidebar");
  //     }
  //   } catch (err) {
  //     console.log(err);
  //   }
  // };
  return (
    <div className="profile_setting define_float">
      <div className="circle_dot-left">
        <img
          src={process.env.PUBLIC_URL + "/image/circle_dot-left.png"}
          alt="circle_dot-left"
        />
      </div>
      <div className="circle_dot-right">
        <img
          src={process.env.PUBLIC_URL + "/image/circle_dot-right.png"}
          alt="circle_dot-right"
        />
      </div>
      <div className="login-right-bttom">
        <img
          src={process.env.PUBLIC_URL + "/image/login-right-bttom.png"}
          alt="login-right-bttom"
        />
      </div>
      <div className="container">
        <div className="row main-row">
          <div className="col-lg-4 col-md-12 col-sm-12">
            <div className="sidebar">
              <h2 className="profile_ac-name">Account Setting</h2>
              <ul className="profile_side-ul">

                <li
                  onClick={() => handleSidebarClick("Profile")}
                  className={activeLink === "Profile" ? "active-sidebar" : ""}
                >
                  <Link to="/Setting">
                    <span className="payment_side_ioc">
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M10 10C11.3261 10 12.5979 9.47322 13.5355 8.53553C14.4732 7.59785 15 6.32608 15 5C15 3.67392 14.4732 2.40215 13.5355 1.46447C12.5979 0.526784 11.3261 0 10 0C8.67392 0 7.40215 0.526784 6.46447 1.46447C5.52678 2.40215 5 3.67392 5 5C5 6.32608 5.52678 7.59785 6.46447 8.53553C7.40215 9.47322 8.67392 10 10 10ZM13.3333 5C13.3333 5.88405 12.9821 6.7319 12.357 7.35702C11.7319 7.98214 10.8841 8.33333 10 8.33333C9.11594 8.33333 8.2681 7.98214 7.64298 7.35702C7.01786 6.7319 6.66667 5.88405 6.66667 5C6.66667 4.11594 7.01786 3.2681 7.64298 2.64298C8.2681 2.01786 9.11594 1.66667 10 1.66667C10.8841 1.66667 11.7319 2.01786 12.357 2.64298C12.9821 3.2681 13.3333 4.11594 13.3333 5ZM20 18.3333C20 20 18.3333 20 18.3333 20H1.66667C1.66667 20 0 20 0 18.3333C0 16.6667 1.66667 11.6667 10 11.6667C18.3333 11.6667 20 16.6667 20 18.3333ZM18.3333 18.3267C18.3317 17.9167 18.0767 16.6833 16.9467 15.5533C15.86 14.4667 13.815 13.3333 10 13.3333C6.18333 13.3333 4.14 14.4667 3.05333 15.5533C1.92333 16.6833 1.67 17.9167 1.66667 18.3267H18.3333Z"
                          fill="#777996"
                        />
                      </svg>
                    </span>
                    <span>Profile</span>
                  </Link>
                </li>

                <li
                  onClick={() => handleSidebarClick("Wallet")}
                  className={activeLink === "wallet" ? "active-sidebar" : ""}
                >
                  <Link to="/Setting/wallet">
                    <span className="payment_side_ioc">
                      <svg
                        width="22"
                        height="20"
                        viewBox="0 0 22 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M16.0128 0.0609227C16.3045 -0.0142145 16.6089 -0.0199287 16.9031 0.0442139C17.1972 0.108357 17.4733 0.24067 17.7103 0.431109C17.9474 0.621548 18.1392 0.865108 18.2712 1.1433C18.4033 1.42149 18.472 1.72699 18.4722 2.03662V3.69436H19.1319C19.6569 3.69436 20.1603 3.9091 20.5314 4.29134C20.9026 4.67358 21.1111 5.192 21.1111 5.73257V17.9618C21.1111 18.5024 20.9026 19.0208 20.5314 19.403C20.1603 19.7853 19.6569 20 19.1319 20H1.97917C1.45426 20 0.95085 19.7853 0.579685 19.403C0.208519 19.0208 1.29426e-07 18.5024 1.29426e-07 17.9618V5.73257C-0.00018401 5.20787 0.196125 4.70331 0.548067 4.32392C0.90001 3.94452 1.38047 3.71951 1.88944 3.69572L16.0128 0.0609227ZM7.33875 3.69436H17.1528V2.03662C17.1525 1.93354 17.1295 1.83186 17.0855 1.73928C17.0415 1.64671 16.9776 1.56567 16.8986 1.5023C16.8197 1.43893 16.7277 1.39489 16.6298 1.37352C16.5319 1.35216 16.4305 1.35401 16.3334 1.37896L7.33875 3.69436ZM1.97917 5.05317C1.8042 5.05317 1.63639 5.12475 1.51267 5.25216C1.38895 5.37957 1.31944 5.55238 1.31944 5.73257V17.9618C1.31944 18.142 1.38895 18.3148 1.51267 18.4422C1.63639 18.5696 1.8042 18.6412 1.97917 18.6412H19.1319C19.3069 18.6412 19.4747 18.5696 19.5984 18.4422C19.7222 18.3148 19.7917 18.142 19.7917 17.9618V5.73257C19.7917 5.55238 19.7222 5.37957 19.5984 5.25216C19.4747 5.12475 19.3069 5.05317 19.1319 5.05317H1.97917Z"
                          fill="#777996"
                        />
                      </svg>
                    </span>
                    <span>Wallet</span>
                  </Link>
                </li>

                <li
                  onClick={() => handleSidebarClick("History")}
                  className={activeLink === "history" ? "active-sidebar" : ""}
                >
                  <Link to="/Setting/history">
                    <span className="payment_side_ioc">
                      <svg
                        width="21"
                        height="20"
                        viewBox="0 0 21 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M11.6266 1.27359C11.4124 1.25778 11.1977 1.24986 10.9829 1.24984V0C11.2286 0.000119769 11.4741 0.00929151 11.7191 0.0274966L11.6266 1.27359ZM14.1313 1.83602C13.7306 1.68142 13.3191 1.55652 12.9002 1.46232L13.1739 0.24247C13.6526 0.349956 14.1238 0.492438 14.5812 0.669916L14.1313 1.83602ZM15.8436 2.72341C15.6649 2.60424 15.4818 2.49167 15.2949 2.38595L15.911 1.29859C16.3384 1.54073 16.7473 1.81393 17.1346 2.11599L16.366 3.10211C16.1965 2.96992 16.0223 2.84401 15.8436 2.72466V2.72341ZM18.1358 4.96063C17.8885 4.60939 17.6158 4.27687 17.3196 3.96575L18.2245 3.10336C18.562 3.45957 18.8744 3.84077 19.1581 4.24072L18.1358 4.96063ZM19.0656 6.65042C18.9836 6.45227 18.8944 6.25716 18.7982 6.06549L19.9143 5.50306C20.135 5.94186 20.323 6.39638 20.4767 6.86289L19.2894 7.25409C19.2222 7.0502 19.1476 6.84884 19.0656 6.65042ZM19.7281 9.78378C19.718 9.35425 19.6762 8.92606 19.6031 8.50269L20.8342 8.29021C20.9179 8.77265 20.9667 9.26259 20.9792 9.75253L19.7293 9.78378H19.7281ZM19.5643 11.706C19.6056 11.4936 19.6393 11.2823 19.6656 11.0686L20.9067 11.2223C20.8466 11.71 20.7506 12.1925 20.6192 12.6659L19.4144 12.3322C19.4718 12.126 19.5218 11.9173 19.5643 11.706ZM18.3745 14.6794C18.6045 14.317 18.8069 13.937 18.9819 13.5446L20.1243 14.0507C19.9243 14.5007 19.6931 14.9331 19.4306 15.3481L18.3745 14.6794ZM17.1696 16.1855C17.3221 16.033 17.4683 15.8755 17.6071 15.713L18.5545 16.5292C18.394 16.7152 18.2269 16.8953 18.0533 17.0691L17.1696 16.1855Z"
                          fill="#777996"
                        />
                        <path
                          d="M10.9831 1.24984C9.5444 1.24995 8.12791 1.60486 6.85911 2.28314C5.59031 2.96142 4.50836 3.94213 3.7091 5.13842C2.90984 6.3347 2.41794 7.70964 2.27695 9.14143C2.13597 10.5732 2.35027 12.0177 2.90085 13.3469C3.45144 14.6761 4.32133 15.849 5.43347 16.7617C6.54562 17.6744 7.86568 18.2988 9.27675 18.5795C10.6878 18.8602 12.1463 18.7886 13.5231 18.371C14.8999 17.9534 16.1525 17.2028 17.1698 16.1855L18.0535 17.0691C16.8908 18.2324 15.4591 19.091 13.8853 19.5688C12.3115 20.0466 10.6441 20.1288 9.03095 19.8081C7.41777 19.4875 5.90858 18.7739 4.6371 17.7306C3.36563 16.6872 2.37112 15.3464 1.7417 13.8269C1.11227 12.3073 0.867371 10.656 1.02869 9.01921C1.19 7.3824 1.75255 5.81065 2.6665 4.44322C3.58044 3.07579 4.81756 1.95489 6.26825 1.17986C7.71893 0.404818 9.33838 -0.000435861 10.9831 3.51779e-07V1.24984Z"
                          fill="#777996"
                        />
                        <path
                          d="M10.3583 3.74951C10.5241 3.74951 10.683 3.81535 10.8002 3.93255C10.9174 4.04974 10.9832 4.20869 10.9832 4.37443V10.8861L15.0427 13.2058C15.1825 13.2901 15.2837 13.4257 15.3247 13.5836C15.3658 13.7416 15.3435 13.9093 15.2625 14.051C15.1816 14.1927 15.0484 14.297 14.8915 14.3418C14.7346 14.3866 14.5664 14.3683 14.4228 14.2907L10.0484 11.791C9.95271 11.7364 9.87321 11.6574 9.81789 11.5622C9.76258 11.4669 9.73343 11.3587 9.7334 11.2486V4.37443C9.7334 4.20869 9.79924 4.04974 9.91643 3.93255C10.0336 3.81535 10.1926 3.74951 10.3583 3.74951Z"
                          fill="#777996"
                        />
                      </svg>
                    </span>
                    <span>History</span>
                  </Link>
                </li>

                <li
                  onClick={() => handleSidebarClick("referral")}
                  className={activeLink === "Refferral" ? "active-sidebar" : ""}
                >
                  <Link to="/Setting/Refferral">
                    <span className="payment_side_ioc">
                      <svg
                        width="27"
                        height="20"
                        viewBox="0 0 27 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M25 20C25 20 26.6667 20 26.6667 18.3333C26.6667 16.6667 25 11.6667 18.3333 11.6667C11.6667 11.6667 10 16.6667 10 18.3333C10 20 11.6667 20 11.6667 20H25ZM11.7033 18.3333C11.691 18.3316 11.6788 18.3294 11.6667 18.3267C11.6683 17.8867 11.945 16.61 12.9333 15.46C13.8533 14.3817 15.47 13.3333 18.3333 13.3333C21.195 13.3333 22.8117 14.3833 23.7333 15.46C24.7217 16.61 24.9967 17.8883 25 18.3267L24.9867 18.33C24.9789 18.3313 24.9711 18.3324 24.9633 18.3333H11.7033ZM18.3333 8.33333C19.2174 8.33333 20.0652 7.98214 20.6904 7.35702C21.3155 6.7319 21.6667 5.88405 21.6667 5C21.6667 4.11594 21.3155 3.2681 20.6904 2.64298C20.0652 2.01786 19.2174 1.66667 18.3333 1.66667C17.4493 1.66667 16.6014 2.01786 15.9763 2.64298C15.3512 3.2681 15 4.11594 15 5C15 5.88405 15.3512 6.7319 15.9763 7.35702C16.6014 7.98214 17.4493 8.33333 18.3333 8.33333ZM23.3333 5C23.3333 5.65661 23.204 6.30679 22.9527 6.91342C22.7015 7.52004 22.3332 8.07124 21.8689 8.53553C21.4046 8.99983 20.8534 9.36812 20.2468 9.6194C19.6401 9.87067 18.9899 10 18.3333 10C17.6767 10 17.0265 9.87067 16.4199 9.6194C15.8133 9.36812 15.2621 8.99983 14.7978 8.53553C14.3335 8.07124 13.9652 7.52004 13.7139 6.91342C13.4627 6.30679 13.3333 5.65661 13.3333 5C13.3333 3.67392 13.8601 2.40215 14.7978 1.46447C15.7355 0.526784 17.0073 0 18.3333 0C19.6594 0 20.9312 0.526784 21.8689 1.46447C22.8065 2.40215 23.3333 3.67392 23.3333 5ZM11.56 12.1333C10.8933 11.9234 10.2061 11.7854 9.51 11.7217C9.11889 11.6845 8.72621 11.6661 8.33333 11.6667C1.66667 11.6667 0 16.6667 0 18.3333C0 19.445 0.555 20 1.66667 20H8.69333C8.44626 19.4797 8.32304 18.9092 8.33333 18.3333C8.33333 16.65 8.96167 14.93 10.15 13.4933C10.555 13.0033 11.0267 12.545 11.56 12.1333ZM8.2 13.3333C7.21359 14.8155 6.68073 16.553 6.66667 18.3333H1.66667C1.66667 17.9 1.94 16.6167 2.93333 15.46C3.84167 14.4 5.42 13.3667 8.2 13.335V13.3333ZM2.5 5.83333C2.5 4.50725 3.02678 3.23548 3.96447 2.2978C4.90215 1.36012 6.17392 0.833333 7.5 0.833333C8.82608 0.833333 10.0979 1.36012 11.0355 2.2978C11.9732 3.23548 12.5 4.50725 12.5 5.83333C12.5 7.15942 11.9732 8.43118 11.0355 9.36887C10.0979 10.3065 8.82608 10.8333 7.5 10.8333C6.17392 10.8333 4.90215 10.3065 3.96447 9.36887C3.02678 8.43118 2.5 7.15942 2.5 5.83333ZM7.5 2.5C6.61594 2.5 5.7681 2.85119 5.14298 3.47631C4.51786 4.10143 4.16667 4.94928 4.16667 5.83333C4.16667 6.71739 4.51786 7.56523 5.14298 8.19036C5.7681 8.81548 6.61594 9.16667 7.5 9.16667C8.38405 9.16667 9.2319 8.81548 9.85702 8.19036C10.4821 7.56523 10.8333 6.71739 10.8333 5.83333C10.8333 4.94928 10.4821 4.10143 9.85702 3.47631C9.2319 2.85119 8.38405 2.5 7.5 2.5Z"
                          fill="#777996"
                        />
                      </svg>
                    </span>
                    <span>Refferal</span>
                  </Link>
                </li>

                <li
                  onClick={() => handleSidebarClick("Change Password")}
                  className={activeLink === "changePassword" ? "active-sidebar" : ""}
                >
                  <Link to="/Setting/changePassword">
                    <span className="payment_side_ioc">
                      <svg
                        width="13"
                        height="20"
                        viewBox="0 0 13 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M6.25 1.25C6.91304 1.25 7.54893 1.51339 8.01777 1.98223C8.48661 2.45107 8.75 3.08696 8.75 3.75V8.75H3.75V3.75C3.75 3.08696 4.01339 2.45107 4.48223 1.98223C4.95107 1.51339 5.58696 1.25 6.25 1.25ZM10 8.75V3.75C10 2.75544 9.60491 1.80161 8.90165 1.09835C8.19839 0.395088 7.24456 0 6.25 0C5.25544 0 4.30161 0.395088 3.59835 1.09835C2.89509 1.80161 2.5 2.75544 2.5 3.75V8.75C1.83696 8.75 1.20107 9.01339 0.732233 9.48223C0.263392 9.95107 0 10.587 0 11.25V17.5C0 18.163 0.263392 18.7989 0.732233 19.2678C1.20107 19.7366 1.83696 20 2.5 20H10C10.663 20 11.2989 19.7366 11.7678 19.2678C12.2366 18.7989 12.5 18.163 12.5 17.5V11.25C12.5 10.587 12.2366 9.95107 11.7678 9.48223C11.2989 9.01339 10.663 8.75 10 8.75ZM2.5 10H10C10.3315 10 10.6495 10.1317 10.8839 10.3661C11.1183 10.6005 11.25 10.9185 11.25 11.25V17.5C11.25 17.8315 11.1183 18.1495 10.8839 18.3839C10.6495 18.6183 10.3315 18.75 10 18.75H2.5C2.16848 18.75 1.85054 18.6183 1.61612 18.3839C1.3817 18.1495 1.25 17.8315 1.25 17.5V11.25C1.25 10.9185 1.3817 10.6005 1.61612 10.3661C1.85054 10.1317 2.16848 10 2.5 10Z"
                          fill="#777996"
                        />
                      </svg>
                    </span>
                    <span>Change Password</span>
                  </Link>
                </li>

                <li
                  onClick={() => handleSidebarClick("withdrawal")}
                  className={activeLink === "withdrawal" ? "active-sidebar" : ""}
                >
                  <Link to="/Setting/withdrawal">
                    <span className="payment_side_ioc">
                      {/* <svg
                        width="13"
                        height="20"
                        viewBox="0 0 13 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M6.25 1.25C6.91304 1.25 7.54893 1.51339 8.01777 1.98223C8.48661 2.45107 8.75 3.08696 8.75 3.75V8.75H3.75V3.75C3.75 3.08696 4.01339 2.45107 4.48223 1.98223C4.95107 1.51339 5.58696 1.25 6.25 1.25ZM10 8.75V3.75C10 2.75544 9.60491 1.80161 8.90165 1.09835C8.19839 0.395088 7.24456 0 6.25 0C5.25544 0 4.30161 0.395088 3.59835 1.09835C2.89509 1.80161 2.5 2.75544 2.5 3.75V8.75C1.83696 8.75 1.20107 9.01339 0.732233 9.48223C0.263392 9.95107 0 10.587 0 11.25V17.5C0 18.163 0.263392 18.7989 0.732233 19.2678C1.20107 19.7366 1.83696 20 2.5 20H10C10.663 20 11.2989 19.7366 11.7678 19.2678C12.2366 18.7989 12.5 18.163 12.5 17.5V11.25C12.5 10.587 12.2366 9.95107 11.7678 9.48223C11.2989 9.01339 10.663 8.75 10 8.75ZM2.5 10H10C10.3315 10 10.6495 10.1317 10.8839 10.3661C11.1183 10.6005 11.25 10.9185 11.25 11.25V17.5C11.25 17.8315 11.1183 18.1495 10.8839 18.3839C10.6495 18.6183 10.3315 18.75 10 18.75H2.5C2.16848 18.75 1.85054 18.6183 1.61612 18.3839C1.3817 18.1495 1.25 17.8315 1.25 17.5V11.25C1.25 10.9185 1.3817 10.6005 1.61612 10.3661C1.85054 10.1317 2.16848 10 2.5 10Z"
                          fill="#777996"
                        />
                      </svg> */}
                    </span>
                    <span>Withdrawal</span>
                  </Link>
                </li>

              </ul>
            </div>
          </div>
          <Outlet />
        </div>
      </div>
    </div>
  );
}
export default Setting;
